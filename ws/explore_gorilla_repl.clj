;; gorilla-repl.fileformat = 1

;; **
;;; # Gorilla REPL
;;; 
;;; Welcome to gorilla :-)
;;; 
;;; Shift + enter evaluates code. Hit ctrl+g twice in quick succession or click the menu icon (upper-right corner) for more commands ...
;;; 
;;; It's a good habit to run each worksheet in its own namespace: feel free to use the declaration we've provided below if you'd like.
;; **

;; @@
(ns fluttering-surf
  (:require [gorilla-plot.core :as plot]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(+ 1 2 3)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}
;; <=

;; **
;;; # Header 1
;;; ## Header 2
;;; 
;;; Just writting some clojure here
;; **

;; @@
(* 1 2 3)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}
;; <=

;; **
;;; Whats next? Lets make that plot from the video. I added the test namespace with the gaussian function so hopefull this works now. 
;; **

;; @@
(use 'gorilla-plot.core)
(use 'clojure-noob.core)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(defn gaussian
  [x sigma mu]
  (* (/ 0.4 sigma) (Math/exp (- (/ (* (- x mu) (- x mu)) (* 2 (* sigma sigma)))))))


(defn r [] (- (apply + (repeatedly 50 rand)) 25))

(def data (repeatedly 1000 r))

(compose 
  (histogram data :bins 50 :normalize :probability-density)
  (plot #(gaussian % 2 0) [-10 10]))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f","values":[{"x":-5.6369661067622125,"y":0},{"x":-5.386286256496235,"y":0.01994575948044837},{"x":-5.1356064062302575,"y":0.0},{"x":-4.88492655596428,"y":0.007978303792179349},{"x":-4.6342467056983025,"y":0.027924063272627718},{"x":-4.383566855432325,"y":0.011967455688269022},{"x":-4.1328870051663475,"y":0.03590236706480707},{"x":-3.88220715490037,"y":0.027924063272627718},{"x":-3.6315273046343926,"y":0.023934911376538043},{"x":-3.380847454368415,"y":0.03989151896089674},{"x":-3.1301676041024376,"y":0.06781558223352446},{"x":-2.87948775383646,"y":0.0917504936100625},{"x":-2.6288079035704826,"y":0.07180473412961413},{"x":-2.378128053304505,"y":0.11169625309051087},{"x":-2.1274482030385276,"y":0.11568540498660054},{"x":-1.87676835277255,"y":0.1396203163631386},{"x":-1.6260885025065726,"y":0.1396203163631386},{"x":-1.375408652240595,"y":0.11967455688269023},{"x":-1.1247288019746176,"y":0.1236637087787799},{"x":-0.87404895170864,"y":0.11568540498660054},{"x":-0.6233691014426626,"y":0.19945759480448372},{"x":-0.372689251176685,"y":0.20743589859666306},{"x":-0.12200940091070744,"y":0.21940335428493207},{"x":0.1286704493552701,"y":0.17552268342794566},{"x":0.37935029962124767,"y":0.19945759480448372},{"x":0.6300301498872252,"y":0.17951183532403533},{"x":0.8807100001532027,"y":0.171533531531856},{"x":1.1313898504191802,"y":0.16754437963576632},{"x":1.3820697006851577,"y":0.16355522773967665},{"x":1.6327495509511352,"y":0.15956607584358695},{"x":1.8834294012171127,"y":0.11568540498660054},{"x":2.1341092514830904,"y":0.09972879740224186},{"x":2.384789101749068,"y":0.1077071011944212},{"x":2.6354689520150454,"y":0.0757938860257038},{"x":2.886148802281023,"y":0.09573964550615217},{"x":3.1368286525470004,"y":0.051858974649165765},{"x":3.387508502812978,"y":0.051858974649165765},{"x":3.6381883530789554,"y":0.09972879740224186},{"x":3.888868203344933,"y":0.03590236706480707},{"x":4.139548053610911,"y":0.031913215168717396},{"x":4.390227903876888,"y":0.027924063272627718},{"x":4.640907754142866,"y":0.015956607584358698},{"x":4.891587604408843,"y":0.007978303792179349},{"x":5.142267454674821,"y":0.0039891518960896745},{"x":5.392947304940798,"y":0.011967455688269022},{"x":5.643627155206776,"y":0.011967455688269022},{"x":5.894307005472753,"y":0.0},{"x":6.144986855738731,"y":0.0},{"x":6.395666706004708,"y":0.0},{"x":6.646346556270686,"y":0.0039891518960896745},{"x":6.897026406536663,"y":0.0},{"x":7.147706256802641,"y":0.0039891518960896745},{"x":7.398386107068618,"y":0}]},{"name":"f1af6f7a-3b84-4947-84fd-5002f969dc83","values":[{"x":-10,"y":7.453306344157342E-7},{"x":-9.799999997019768,"y":1.2227136022020084E-6},{"x":-9.599999994039536,"y":1.9859008895787535E-6},{"x":-9.399999991059303,"y":3.1933568466554097E-6},{"x":-9.199999988079071,"y":5.083869442630077E-6},{"x":-8.999999985098839,"y":8.013059747248974E-6},{"x":-8.799999982118607,"y":1.2504301246871565E-5},{"x":-8.599999979138374,"y":1.9318683610927946E-5},{"x":-8.399999976158142,"y":2.9549673525896843E-5},{"x":-8.19999997317791,"y":4.474916120466938E-5},{"x":-7.999999970197678,"y":6.709252957952864E-5},{"x":-7.799999967217445,"y":9.959109066711276E-5},{"x":-7.599999964237213,"y":1.463604937211866E-4},{"x":-7.399999961256981,"y":2.129532625969202E-4},{"x":-7.199999958276749,"y":3.0676215890329826E-4},{"x":-6.999999955296516,"y":4.3749825786254407E-4},{"x":-6.799999952316284,"y":6.177431317230414E-4},{"x":-6.599999949336052,"y":8.635680737170301E-4},{"x":-6.39999994635582,"y":0.0011952046815864247},{"x":-6.1999999433755875,"y":0.0016377403466157404},{"x":-5.999999940395355,"y":0.0022217995062928076},{"x":-5.799999937415123,"y":0.002984157484620092},{"x":-5.599999934434891,"y":0.003968219313121465},{"x":-5.3999999314546585,"y":0.005224282454218924},{"x":-5.199999928474426,"y":0.006809491580088464},{"x":-4.999999925494194,"y":0.008787387543070678},{"x":-4.799999922513962,"y":0.011226953610745277},{"x":-4.5999999195337296,"y":0.014201072062040727},{"x":-4.399999916553497,"y":0.017784325124320887},{"x":-4.199999913573265,"y":0.022050107061901632},{"x":-3.999999910593033,"y":0.027067059067306068},{"x":-3.7999999076128006,"y":0.032894894202544614},{"x":-3.5999999046325684,"y":0.03957974321387936},{"x":-3.399999901652336,"y":0.04714921925263572},{"x":-3.199999898672104,"y":0.0556074645983085},{"x":-2.9999998956918716,"y":0.06493049855125375},{"x":-2.7999998927116394,"y":0.07506222540759178},{"x":-2.599999889731407,"y":0.08591147779981703},{"x":-2.399999886751175,"y":0.09735045780688895},{"x":-2.1999998837709427,"y":0.10921489230961066},{"x":-1.9999998807907104,"y":0.12130613917293559},{"x":-1.7999998778104782,"y":0.13339536950647682},{"x":-1.599999874830246,"y":0.1452298146860898},{"x":-1.3999998718500137,"y":0.15654091466962378},{"x":-1.1999998688697815,"y":0.1670540488540041},{"x":-0.9999998658895493,"y":0.17649938643452168},{"x":-0.799999862909317,"y":0.18462327433935283},{"x":-0.5999998599290848,"y":0.1911995003838428},{"x":-0.39999985694885254,"y":0.19603973746572148},{"x":-0.1999998539686203,"y":0.19900249729156638},{"x":1.4901161193847656E-7,"y":0.19999999999999946},{"x":0.20000015199184418,"y":0.1990024943261981},{"x":0.4000001549720764,"y":0.19603973162328203},{"x":0.6000001579523087,"y":0.19119949183655915},{"x":0.8000001609325409,"y":0.1846232633349483},{"x":1.0000001639127731,"y":0.1764993732842929},{"x":1.2000001668930054,"y":0.1670540339182087},{"x":1.4000001698732376,"y":0.15654089834113458},{"x":1.6000001728534698,"y":0.14522979737334754},{"x":1.800000175833702,"y":0.1333953516167646},{"x":2.0000001788139343,"y":0.12130612109691333},{"x":2.2000001817941666,"y":0.10921487440789601},{"x":2.400000184774399,"y":0.09735044039927186},{"x":2.600000187754631,"y":0.08591146115746827},{"x":2.8000001907348633,"y":0.07506220974839269},{"x":3.0000001937150955,"y":0.06493048403815778},{"x":3.2000001966953278,"y":0.055607451340457185},{"x":3.40000019967556,"y":0.04714920730880908},{"x":3.6000002026557922,"y":0.03957973259776622},{"x":3.8000002056360245,"y":0.03289488488927549},{"x":4.000000208616257,"y":0.02706705100069495},{"x":4.200000211596489,"y":0.02205010016188641},{"x":4.400000214576721,"y":0.017784319294165653},{"x":4.600000217556953,"y":0.014201067194954814},{"x":4.800000220537186,"y":0.011226949595674444},{"x":5.000000223517418,"y":0.008787384269514285},{"x":5.20000022649765,"y":0.006809488941886312},{"x":5.400000229477882,"y":0.0052242803523266925},{"x":5.600000232458115,"y":0.003968217657451668},{"x":5.800000235438347,"y":0.002984156195065413},{"x":6.000000238418579,"y":0.0022217985130712366},{"x":6.200000241398811,"y":0.001637739590084685},{"x":6.400000244379044,"y":0.0011952041116685484},{"x":6.600000247359276,"y":8.635676490676143E-4},{"x":6.800000250339508,"y":6.177428187500568E-4},{"x":7.00000025331974,"y":4.3749802968947785E-4},{"x":7.2000002562999725,"y":3.0676199434329435E-4},{"x":7.400000259280205,"y":2.1295314518666783E-4},{"x":7.600000262260437,"y":1.46360410845439E-4},{"x":7.800000265240669,"y":9.959103279023577E-5},{"x":8.000000268220901,"y":6.709248958927605E-5},{"x":8.200000271201134,"y":4.47491338652843E-5},{"x":8.400000274181366,"y":2.954965503227554E-5},{"x":8.600000277161598,"y":1.9318671232486508E-5},{"x":8.80000028014183,"y":1.2504293048415349E-5},{"x":9.000000283122063,"y":8.013054374075417E-6},{"x":9.200000286102295,"y":5.083865957875547E-6},{"x":9.400000289082527,"y":3.193354610174078E-6},{"x":9.60000029206276,"y":1.985899469152236E-6},{"x":9.800000295042992,"y":1.2227127094295497E-6}]}],"marks":[{"type":"line","from":{"data":"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"f1af6f7a-3b84-4947-84fd-5002f969dc83"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f\", :values ({:x -5.6369661067622125, :y 0} {:x -5.386286256496235, :y 0.01994575948044837} {:x -5.1356064062302575, :y 0.0} {:x -4.88492655596428, :y 0.007978303792179349} {:x -4.6342467056983025, :y 0.027924063272627718} {:x -4.383566855432325, :y 0.011967455688269022} {:x -4.1328870051663475, :y 0.03590236706480707} {:x -3.88220715490037, :y 0.027924063272627718} {:x -3.6315273046343926, :y 0.023934911376538043} {:x -3.380847454368415, :y 0.03989151896089674} {:x -3.1301676041024376, :y 0.06781558223352446} {:x -2.87948775383646, :y 0.0917504936100625} {:x -2.6288079035704826, :y 0.07180473412961413} {:x -2.378128053304505, :y 0.11169625309051087} {:x -2.1274482030385276, :y 0.11568540498660054} {:x -1.87676835277255, :y 0.1396203163631386} {:x -1.6260885025065726, :y 0.1396203163631386} {:x -1.375408652240595, :y 0.11967455688269023} {:x -1.1247288019746176, :y 0.1236637087787799} {:x -0.87404895170864, :y 0.11568540498660054} {:x -0.6233691014426626, :y 0.19945759480448372} {:x -0.372689251176685, :y 0.20743589859666306} {:x -0.12200940091070744, :y 0.21940335428493207} {:x 0.1286704493552701, :y 0.17552268342794566} {:x 0.37935029962124767, :y 0.19945759480448372} {:x 0.6300301498872252, :y 0.17951183532403533} {:x 0.8807100001532027, :y 0.171533531531856} {:x 1.1313898504191802, :y 0.16754437963576632} {:x 1.3820697006851577, :y 0.16355522773967665} {:x 1.6327495509511352, :y 0.15956607584358695} {:x 1.8834294012171127, :y 0.11568540498660054} {:x 2.1341092514830904, :y 0.09972879740224186} {:x 2.384789101749068, :y 0.1077071011944212} {:x 2.6354689520150454, :y 0.0757938860257038} {:x 2.886148802281023, :y 0.09573964550615217} {:x 3.1368286525470004, :y 0.051858974649165765} {:x 3.387508502812978, :y 0.051858974649165765} {:x 3.6381883530789554, :y 0.09972879740224186} {:x 3.888868203344933, :y 0.03590236706480707} {:x 4.139548053610911, :y 0.031913215168717396} {:x 4.390227903876888, :y 0.027924063272627718} {:x 4.640907754142866, :y 0.015956607584358698} {:x 4.891587604408843, :y 0.007978303792179349} {:x 5.142267454674821, :y 0.0039891518960896745} {:x 5.392947304940798, :y 0.011967455688269022} {:x 5.643627155206776, :y 0.011967455688269022} {:x 5.894307005472753, :y 0.0} {:x 6.144986855738731, :y 0.0} {:x 6.395666706004708, :y 0.0} {:x 6.646346556270686, :y 0.0039891518960896745} {:x 6.897026406536663, :y 0.0} {:x 7.147706256802641, :y 0.0039891518960896745} {:x 7.398386107068618, :y 0})} {:name \"f1af6f7a-3b84-4947-84fd-5002f969dc83\", :values ({:x -10, :y 7.453306344157342E-7} {:x -9.799999997019768, :y 1.2227136022020084E-6} {:x -9.599999994039536, :y 1.9859008895787535E-6} {:x -9.399999991059303, :y 3.1933568466554097E-6} {:x -9.199999988079071, :y 5.083869442630077E-6} {:x -8.999999985098839, :y 8.013059747248974E-6} {:x -8.799999982118607, :y 1.2504301246871565E-5} {:x -8.599999979138374, :y 1.9318683610927946E-5} {:x -8.399999976158142, :y 2.9549673525896843E-5} {:x -8.19999997317791, :y 4.474916120466938E-5} {:x -7.999999970197678, :y 6.709252957952864E-5} {:x -7.799999967217445, :y 9.959109066711276E-5} {:x -7.599999964237213, :y 1.463604937211866E-4} {:x -7.399999961256981, :y 2.129532625969202E-4} {:x -7.199999958276749, :y 3.0676215890329826E-4} {:x -6.999999955296516, :y 4.3749825786254407E-4} {:x -6.799999952316284, :y 6.177431317230414E-4} {:x -6.599999949336052, :y 8.635680737170301E-4} {:x -6.39999994635582, :y 0.0011952046815864247} {:x -6.1999999433755875, :y 0.0016377403466157404} {:x -5.999999940395355, :y 0.0022217995062928076} {:x -5.799999937415123, :y 0.002984157484620092} {:x -5.599999934434891, :y 0.003968219313121465} {:x -5.3999999314546585, :y 0.005224282454218924} {:x -5.199999928474426, :y 0.006809491580088464} {:x -4.999999925494194, :y 0.008787387543070678} {:x -4.799999922513962, :y 0.011226953610745277} {:x -4.5999999195337296, :y 0.014201072062040727} {:x -4.399999916553497, :y 0.017784325124320887} {:x -4.199999913573265, :y 0.022050107061901632} {:x -3.999999910593033, :y 0.027067059067306068} {:x -3.7999999076128006, :y 0.032894894202544614} {:x -3.5999999046325684, :y 0.03957974321387936} {:x -3.399999901652336, :y 0.04714921925263572} {:x -3.199999898672104, :y 0.0556074645983085} {:x -2.9999998956918716, :y 0.06493049855125375} {:x -2.7999998927116394, :y 0.07506222540759178} {:x -2.599999889731407, :y 0.08591147779981703} {:x -2.399999886751175, :y 0.09735045780688895} {:x -2.1999998837709427, :y 0.10921489230961066} {:x -1.9999998807907104, :y 0.12130613917293559} {:x -1.7999998778104782, :y 0.13339536950647682} {:x -1.599999874830246, :y 0.1452298146860898} {:x -1.3999998718500137, :y 0.15654091466962378} {:x -1.1999998688697815, :y 0.1670540488540041} {:x -0.9999998658895493, :y 0.17649938643452168} {:x -0.799999862909317, :y 0.18462327433935283} {:x -0.5999998599290848, :y 0.1911995003838428} {:x -0.39999985694885254, :y 0.19603973746572148} {:x -0.1999998539686203, :y 0.19900249729156638} {:x 1.4901161193847656E-7, :y 0.19999999999999946} {:x 0.20000015199184418, :y 0.1990024943261981} {:x 0.4000001549720764, :y 0.19603973162328203} {:x 0.6000001579523087, :y 0.19119949183655915} {:x 0.8000001609325409, :y 0.1846232633349483} {:x 1.0000001639127731, :y 0.1764993732842929} {:x 1.2000001668930054, :y 0.1670540339182087} {:x 1.4000001698732376, :y 0.15654089834113458} {:x 1.6000001728534698, :y 0.14522979737334754} {:x 1.800000175833702, :y 0.1333953516167646} {:x 2.0000001788139343, :y 0.12130612109691333} {:x 2.2000001817941666, :y 0.10921487440789601} {:x 2.400000184774399, :y 0.09735044039927186} {:x 2.600000187754631, :y 0.08591146115746827} {:x 2.8000001907348633, :y 0.07506220974839269} {:x 3.0000001937150955, :y 0.06493048403815778} {:x 3.2000001966953278, :y 0.055607451340457185} {:x 3.40000019967556, :y 0.04714920730880908} {:x 3.6000002026557922, :y 0.03957973259776622} {:x 3.8000002056360245, :y 0.03289488488927549} {:x 4.000000208616257, :y 0.02706705100069495} {:x 4.200000211596489, :y 0.02205010016188641} {:x 4.400000214576721, :y 0.017784319294165653} {:x 4.600000217556953, :y 0.014201067194954814} {:x 4.800000220537186, :y 0.011226949595674444} {:x 5.000000223517418, :y 0.008787384269514285} {:x 5.20000022649765, :y 0.006809488941886312} {:x 5.400000229477882, :y 0.0052242803523266925} {:x 5.600000232458115, :y 0.003968217657451668} {:x 5.800000235438347, :y 0.002984156195065413} {:x 6.000000238418579, :y 0.0022217985130712366} {:x 6.200000241398811, :y 0.001637739590084685} {:x 6.400000244379044, :y 0.0011952041116685484} {:x 6.600000247359276, :y 8.635676490676143E-4} {:x 6.800000250339508, :y 6.177428187500568E-4} {:x 7.00000025331974, :y 4.3749802968947785E-4} {:x 7.2000002562999725, :y 3.0676199434329435E-4} {:x 7.400000259280205, :y 2.1295314518666783E-4} {:x 7.600000262260437, :y 1.46360410845439E-4} {:x 7.800000265240669, :y 9.959103279023577E-5} {:x 8.000000268220901, :y 6.709248958927605E-5} {:x 8.200000271201134, :y 4.47491338652843E-5} {:x 8.400000274181366, :y 2.954965503227554E-5} {:x 8.600000277161598, :y 1.9318671232486508E-5} {:x 8.80000028014183, :y 1.2504293048415349E-5} {:x 9.000000283122063, :y 8.013054374075417E-6} {:x 9.200000286102295, :y 5.083865957875547E-6} {:x 9.400000289082527, :y 3.193354610174078E-6} {:x 9.60000029206276, :y 1.985899469152236E-6} {:x 9.800000295042992, :y 1.2227127094295497E-6})}), :marks ({:type \"line\", :from {:data \"25f4bd77-9e16-4cfb-9a66-b1e8e3a10a4f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"f1af6f7a-3b84-4947-84fd-5002f969dc83\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@

;; @@
